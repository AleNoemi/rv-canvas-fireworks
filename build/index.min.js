function FireworksCanvas(t){this.canvas=document.querySelector(t.id),this.context=this.canvas.getContext("2d"),this.context.fillStyle="rgb(0,0,0)",this.options=t,this.init()}function Particle(t){this.position={x:t.position?t.position.x:START_POSITION.x,y:t.position?t.position.y:START_POSITION.y},this.velocity={x:t.velocity?t.velocity.x:0,y:t.velocity?t.velocity.y:2}}var START_POSITION={x:400,y:600},DIMENTIONS={width:3,height:3};FireworksCanvas.prototype={init:function(){this.limitCounter=0,window.requestAnimationFrame(this.addParticple.bind(this))},addParticple:function(){for(var t=3;t>=-3;){var i=new Particle({position:{x:START_POSITION.x,y:START_POSITION.y},velocity:{x:t,y:6}});window.requestAnimationFrame(this.animate.bind(this,i)),t-=.25}this.limitCounter<300&&(this.limitCounter=this.limitCounter+1,window.requestAnimationFrame(this.addParticple.bind(this)))},animate:function(t){var i=t.getPosition(),o=t.getVelocity(),n=i.x-o.x,e=i.y-o.y;this.clearPrevious(i.x,i.y),t.setPosition(n,e),this.drawNext(n,e),e>-3&&window.requestAnimationFrame(this.animate.bind(this,t,o))},drawNext:function(t,i){this.context.fillRect(t,i,DIMENTIONS.width,DIMENTIONS.height)},clearPrevious:function(t,i){this.context.clearRect(t-1,i-1,DIMENTIONS.width+2,DIMENTIONS.height+2)}},Particle.prototype={getPosition:function(){return this.position},setPosition:function(t,i){this.position={x:t,y:i}},getVelocity:function(){return this.velocity}};