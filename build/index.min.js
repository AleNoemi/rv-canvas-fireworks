function FireworksCanvas(t){this.canvas=document.querySelector(t.id),this.gravity=.13,this.particles=[],this.context=this.canvas.getContext("2d"),this.context.fillStyle="#fff"}var START_POSITION={x:400,y:600},DIMENTIONS={width:3,height:3};FireworksCanvas.prototype={init:function(){this.addParticles()},addParticles:function(){var t=this.getRandomIntInclusive(2,4);this.particles=this.particles.concat(this.getParticles(t)),this.render()},getParticles:function(t){for(var i=[],n=t;n>0;)i.push({x:START_POSITION.x,y:START_POSITION.y,vX:this.getRandomArbitrary(-2.5,2.5),vY:this.getRandomIntInclusive(7,9)}),n--;return i},render:function(){var t,i=this;this.clearPrevious(),this.particles=this.particles.filter(function(n){return n.vY=n.vY-i.gravity,n.y=n.y-n.vY,n.x=n.x-n.vX,t=n.vY<0?"down":"up",n.y<START_POSITION.y+DIMENTIONS.height?(i.drawParticle(n.x,n.y,t),!0):!1}),window.requestAnimationFrame(function(){i.addParticles()})},drawParticle:function(t,i,n){this.setRandomColor(t,i,n),this.context.fillRect(t,i,DIMENTIONS.width,DIMENTIONS.height)},clearPrevious:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},setRandomColor:function(t,i,n){var r=1;"down"===n&&(r=r-i/START_POSITION.y+.15),this.context.fillStyle=["rgba("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+r+")"].join("")},getRandomArbitrary:function(t,i){return(Math.random()*(i-t)+t).toFixed(1)},getRandomIntInclusive:function(t,i){return Math.floor(Math.random()*(i-t+1))+t}};